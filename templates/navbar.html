{% load static %}
{% url 'home' as home %}

<!-- Main Header Nav -->
{% if request.path == home %}
    <header class="header-nav menu_style_home_one style2 navbar-scrolltofixed stricky main-menu">
{% else %}
    <header class="header-nav menu_style_home_one style2 style3 navbar-scrolltofixed stricky main-menu">
{% endif %}
    <div class="container-fluid p0">
        <!-- Ace Responsive Menu -->
        <nav>
            <!-- Menu Toggle btn-->
            <div class="menu-toggle">
                {% if request.path == home %}
                    <img class="nav_logo_img img-fluid" src="https://res.cloudinary.com/geetechlab-com/image/upload/v1672595643/propertyDealzin9ja/header-logo2_pficy7.png" alt="header-logo.png">
                {% else %}
                    <img class="nav_logo_img img-fluid" src="https://res.cloudinary.com/geetechlab-com/image/upload/v1672595643/propertyDealzin9ja/header-logo2_pficy7.png" alt="header-logo.png">
                {% endif %}
                <button type="button" id="menu-btn">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <a href="{% url 'home' %}" class="navbar_brand float-left dn-smd">
                <img class="logo1 img-fluid" src="https://res.cloudinary.com/geetechlab-com/image/upload/v1672595643/propertyDealzin9ja/header-logo2_pficy7.png" alt="header-logo.png">
                <img class="logo2 img-fluid" src="https://res.cloudinary.com/geetechlab-com/image/upload/v1672595643/propertyDealzin9ja/header-logo2_pficy7.png" alt="header-logo2.png">
<!--                <span>propertyDealsIn9ja</span>-->
            </a>
            <ul id="respMenu" class="ace-responsive-menu text-right" data-menu-style="horizontal">
                <li><a href="{% url 'home' %}"><span class="title">Home</span></a></li>
                <li><a href="{% url 'properties:list' %}"><span class="title">Properties</span></a></li>
                {% if request.user.is_agent %}
                    <li><a href="{% url 'enquiries:list' %}"><span class="title">Enquiries</span></a></li>
                {% endif %}
                <li><a href="{% url 'agents:list' %}"><span class="title">Agents</span></a></li>
                <li class="last"><a href="{% url 'contacts:contact' %}"><span class="title">Contact</span></a></li>
                {% if request.user.is_authenticated %}
                    <li class="list-inline-item list_s">
                        <a href="{% url 'profiles:profile_detail' request.user.profile.slug %}">
                            <img class="rounded-circle" width="30px" height="30px" src="{{request.user.profile.image_url}}" alt="e1.png">
                        </a>
                        <ul>
                            {% if request.user.is_staff %}
                                <li><a href="/admin/">Admin Dashboard</a></li>
                            {% endif %}
                            <li><a href="{% url 'profiles:profile_detail' request.user.profile.slug %}">Profile</a></li>
                            <li><a href="{% url 'accounts:logout' %}">Logout</a></li>
                        </ul>
                    </li>
                    {% if notifications.count %}
                        <li class="list-inline-item">
                            <a data-toggle="modal" data-target=".notification_modal">
                                <span class="badge badge-pill badge-danger">
                                    <i class="fa fa-bell-o fa-2x"></i>
                                    <span class="badge badge-light">{{notifications.count}}</span>
                                </span>
                            </a>
                        </li>
                    {% endif %}
                    {% if request.user.is_agent %}
                        <li class="list-inline-item add_listing home6">
                            <a href="{% url 'properties:create' %}"><span class="flaticon-plus"></span><span class="dn-sm"> Add Property</span></a>
                        </li>
                    {% else %}
                        <li class="list-inline-item add_listing home6">
                            <a href="{% url 'enquiries:create' %}"><span class="flaticon-plus"></span><span class="dn-sm"> Enquire</span></a>
                        </li>
                    {% endif %}
                {% else %}
                    <li class="list-inline-item list_s">
                        <a href="{% url 'accounts:login' %}" class="btn flaticon-user">
                            <span class="dn-lg">Login</span>
                        </a>
                    </li>
<!--                    <li class="list-inline-item list_s">-->
<!--                        <a href="#" class="btn flaticon-user" data-toggle="modal" data-target=".bd-example-modal-lg"> -->
<!--                            <span class="dn-lg">Login/Register</span>-->
<!--                        </a>-->
<!--                    </li>-->
                {% endif %}
            </ul>
        </nav>
    </div>
</header>
    

    <!-- Main Header Nav For Mobile -->
    <div id="page" class="stylehome1 h0">
        <div class="mobile-menu">
            <div class="header stylehome1">
                <div class="main_logo_home2 text-center">
                    <img class="nav_logo_img img-fluid mt20" src="https://res.cloudinary.com/geetechlab-com/image/upload/v1672595643/propertyDealzin9ja/header-logo2_pficy7.png" alt="pd9ja">
<!--                    {% if request.user.is_authenticated %}-->
<!--                        <span class="mt20">{{request.user.username}}</span>-->
<!--                    {% else %}-->
<!--                        <span class="mt20">propertyDealsIn9ja</span>-->
<!--                    {% endif %}-->
                </div>
                <ul class="menu_bar_home2">
                    {% if request.user.is_authenticated %}
                    <li class="list-inline-item list_s">
                        <a href="{% url 'profiles:profile_detail' request.user.profile.slug %}">
                            <img class="rounded-circle" width="30px" height="30px" src="{{request.user.profile.image_url}}" alt="{{request.user.username}}">
                        </a>
                    </li>
                    {% else %}
                    <li class="list-inline-item list_s"><a href="{% url 'accounts:signup' %}"><span class="flaticon-user"></span></a></li>
                    {% endif %}

                    <li class="list-inline-item"><a href="#menu"><span></span></a></li>
                </ul>
            </div>
        </div>
        <!-- /.mobile-menu -->

        <nav id="menu" class="stylehome1">
            <ul>
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="{% url 'properties:list' %}">Properties</a></li>
                {% if request.user.is_agent %}
                    <li><a href="{% url 'enquiries:list' %}">Enquiries</a></li>
                {% endif %}
                <li><a href="{% url 'agents:list' %}">Agents</a></li>
                <li><a href="{% url 'contacts:contact' %}">Contact</a></li>
                {% if request.user.is_authenticated %}
                    {% if request.user.is_staff %}
                        <li><a href="/admin/"><span class="flaticon-user"></span> Admin Dashboard</a></li>
                    {% endif %}

                    {% if notifications.count %}
                        <li>
                            <a data-toggle="modal" data-target=".notification_modal">
                                <span class="badge badge-pill badge-danger">
                                    <i class="fa fa-bell-o fa-2x"></i>
                                    <span class="badge badge-light">{{notifications.count}}</span>
                                </span>
                            </a>
                        </li>
                    {% endif %}

                    <li><a href="{% url 'accounts:logout' %}"><span class="flaticon-user"></span> Logout</a></li>
                    {% if request.user.is_agent %}
                        <li class="cl_btn">
                            <a class="btn btn-block btn-sm btn-thm circle" href="{% url 'properties:create' %}">
                                <span class="flaticon-plus"></span> Add Property
                            </a>
                        </li>
                    {% else %}
                        <li class="cl_btn">
                            <a class="btn btn-block btn-sm btn-thm circle" href="{% url 'enquiries:create' %}">
                                <span class="flaticon-plus"></span> Enquire
                            </a>
                        </li>
                    {% endif %}
                {% else %}
                    <li><a href="{% url 'accounts:login' %}"><span class="flaticon-user"></span> Login</a></li>
                    <li><a href="{% url 'accounts:signup' %}"><span class="flaticon-edit"></span> Register</a></li>
<!--                    <li class="list-inline-item list_s"><a href="#" class="btn flaticon-user" data-toggle="modal" data-target=".bd-example-modal-lg"> <span class="dn-lg">Login/Register</span></a></li>-->
                {% endif %}
            </ul>
        </nav>
    </div>
</header>




<div class="sign_up_modal modal fade notification_modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body container pb20">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12 col-xl-12">
                          <div class="recent_job_activity">
                              <h4 class="title">Recent Activities</h4>
                              {% for n in notifications %}
                                <div class="grid">
                                  <ul>
                                      {% if n.notification_type == 1 %}
                                          <li class="list-inline-item"><div class="icon"><i class="fa fa-credit-card fa-lg"></i></div></li>
                                      {% elif n.notification_type == 2 %}
                                          <li class="list-inline-item"><div class="icon"><span class="flaticon-home"></span></div></li>
                                      {% elif n.notification_type == 3 %}
                                          <li class="list-inline-item"><div class="icon"><i class="fa fa-envelope-o"></i></div></li>
                                      {% elif n.notification_type == 4 %}
                                          <li class="list-inline-item"><div class="icon"><i class="fa fa-pencil-square-o"></i></div></li>
                                      {% elif n.notification_type == 5 %}
                                          <li class="list-inline-item"><div class="icon"><i class="fa fa-star-o"></i></div></li>
                                      {% elif n.notification_type == 6 %}
                                        <li class="list-inline-item"><div class="icon"><span class="flaticon-chat"></span></div></li>
                                      {% endif %}
                                      <li class="list-inline-item"><p>{{n.message|safe}}</p></li>
                                      <li class="list-inline-item">
                                          <ul class="view_edit_delete_list">
                                              <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="Delete">
                                                  <a hx-delete="{% url 'notifications:delete' n.pk %}" hx-confirm="Do you wish to delete?" onClick="setTimeout(function(){ window.location.reload(); }, 3000);">
                                                      <span class="flaticon-garbage"></span>
                                                  </a>
                                              </li>
                                              {% if n.notification_type == 1 %}
                                                  <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="View">
                                                      <a href="{% url 'wallets:wallet_transactions' %}">
                                                          <span class="flaticon-view"></span>
                                                      </a>
                                                  </li>
                                              {% elif n.notification_type == 2 %}
                                                  <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="View">
                                                      <a href="{% url 'properties:detail' n.property.slug %}">
                                                          <span class="flaticon-view"></span>
                                                      </a>
                                                  </li>
                                              {% elif n.notification_type == 3 %}
                                                  <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="View">
                                                      <a href="{% url 'inboxes:direct_msg' n.inbox_message.msg_sender.username %}">
                                                          <span class="flaticon-view"></span>
                                                      </a>
                                                  </li>
                                              {% elif n.notification_type == 4 %}
                                                  <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="View">
                                                      <a href="{% url 'enquiries:my_enquiry_list' %}">
                                                          <span class="flaticon-view"></span>
                                                      </a>
                                                  </li>
                                              {% elif n.notification_type == 5 %}
                                                  <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="View">
                                                      <a href="{% url 'agents:detail' n.review.slug %}">
                                                          <span class="flaticon-view"></span>
                                                      </a>
                                                  </li>
                                              {% elif n.notification_type == 6 %}
                                                  <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="View">
                                                      <a href="{% url 'properties:detail' n.property.slug %}">
                                                          <span class="flaticon-view"></span>
                                                      </a>
                                                  </li>
                                              {% endif %}
                                          </ul>
                                      </li>
                                  </ul>
                                </div>
                              {% endfor %}
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
